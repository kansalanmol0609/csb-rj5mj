(this.webpackJsonpskypey=this.webpackJsonpskypey||[]).push([[0],{1543:function(e,t,s){},1544:function(e,t,s){},1545:function(e,t,s){},1546:function(e,t,s){},1547:function(e,t,s){},1548:function(e,t,s){},1549:function(e,t,s){},1550:function(e,t,s){"use strict";s.r(t);var a,n=s(1),r=s(22),c=s.n(r),i=(s(34),s(35),s(6)),u=s(23),o=s(36),l=s(45),d=s(51),j=s(3),m=(a=10,Array.from({length:a},(function(){return v()}))),p=j.mapKeys(m,"user_id"),b=function(e){var t={};return j.forEach(m,(function(s){var a;t[s.user_id]=Object(u.a)({},j.mapKeys((a=e,Array.from({length:a},(function(e,t){return{number:t,text:l.sentence(),is_user_msg:d.random.boolean()}}))),"number"))})),t};v(),b(10);function v(){return{name:d.name.findName(),email:d.internet.email(),profile_pic:d.internet.avatar(),status:l.sentence(),user_id:o.generate()}}var h=s(27),f=s(28),g="SET_ACTIVE_USER_ID",O="DELETE_CONTACT",_="SET_TYPING_VALUE",x="SEND_MESSAGE";var y=s(5);var N=Object(i.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v();return e},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b(10),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:var s=t.payload,a=s.userId,n=s.message,r=Object(y.a)({},a,e[a]),c=Object.keys(e[a]);return r[a][c]={number:c,text:n,is_user_msg:!0},Object.assign({},e,r);default:return e}},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return t.payload;case x:return"";default:return e}},contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var s=t.payload,a=(e[s],Object(h.a)(e,[s].map(f.a)));return a;default:return e}},activeUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;default:return e}}}),E=Object(i.b)(N),S=function(e){return{type:g,payload:e}},U=s(0),I=function(e){var t=e.user,s=t.name,a=t.profile_pic,n=t.status;return Object(U.jsxs)("div",{className:"User",onClick:function(e){var t=e.user_id;console.log(t),E.dispatch(S(t))}.bind(null,t),children:[Object(U.jsx)("img",{src:a,alt:s,className:"User__pic"}),Object(U.jsxs)("div",{className:"User__details",children:[Object(U.jsxs)("p",{className:"User__details-name",children:[s," "]}),Object(U.jsx)("p",{className:"User__details-status",children:n})]})]})},w=(s(1543),function(e){var t=e.contacts;return Object(U.jsx)("aside",{className:"Sidebar",children:t.map((function(e){return Object(U.jsx)(I,{user:e},e.user_id)}))})}),C=(s(1544),s(1545),function(e){var t=e.user,s=t.name,a=t.profile_pic,n=t.status,r=s.split(" ")[0];return Object(U.jsxs)("div",{className:"Empty",children:[Object(U.jsxs)("h1",{className:"Empty__name",children:["Welcome, ",r," "]}),Object(U.jsx)("img",{src:a,alt:s,className:"Empty__img"}),Object(U.jsxs)("p",{className:"Empty__status",children:[Object(U.jsx)("b",{children:"Status:"})," ",n]}),Object(U.jsx)("button",{className:"Empty__btn",children:"Start a conversation"}),Object(U.jsx)("p",{className:"Empty__info",children:"Search for someone to start chatting with or go to Contacts to see who is available"})]})}),k=(s(1546),function(e){var t=e.user;console.log(t);var s=t.name,a=t.status;return Object(U.jsxs)("header",{className:"Header",children:[Object(U.jsx)("h1",{className:"Header__name",children:s}),Object(U.jsx)("p",{className:"Header__status",children:a})]})}),A=s(24),T=s(25),M=s(29),D=s(26),F=(s(1547),function(e){var t=e.message,s=t.text,a=t.is_user_msg;return Object(U.jsx)("span",{className:"Chat ".concat(a?"is-user-msg":""),children:s})}),H=function(e){Object(M.a)(s,e);var t=Object(D.a)(s);function s(){return Object(A.a)(this,s),t.apply(this,arguments)}return Object(T.a)(s,[{key:"render",value:function(){return Object(U.jsxs)("div",{className:"Chats",children:[this.props.messages.map((function(e){return Object(U.jsx)(F,{message:e},e.number)}))," "]})}}]),s}(n.Component),G=(s(1548),function(e){var t=e.value,s=E.getState();return Object(U.jsxs)("form",{className:"Message",onSubmit:function(e){e.preventDefault();var t=s.typing,a=s.activeUserId;E.dispatch({type:x,payload:{message:t,userId:a}})},children:[Object(U.jsx)("input",{className:"Message__input",onChange:function(e){E.dispatch(function(e){return{type:_,payload:e}}(e.target.value))},value:t,placeholder:"write a message"})," "]})}),J=(s(1549),s(3)),K=s.n(J),L=function(e){var t=e.activeUserId,s=E.getState(),a=s.contacts[t],n=s.messages[t],r=s.typing;return Object(U.jsxs)("div",{className:"ChatWindow",children:[Object(U.jsx)(k,{user:a}),Object(U.jsx)(H,{messages:K.a.values(n)}),Object(U.jsx)(G,{value:r})]})},R=function(e){var t=e.user,s=e.activeUserId;return Object(U.jsx)("main",{className:"Main",children:s?Object(U.jsx)(L,{activeUserId:s}):Object(U.jsx)(C,{user:t,activeUserId:s})})};function V(){var e=E.getState(),t=e.contacts,s=e.user,a=e.activeUserId;return Object(U.jsxs)("div",{className:"App",children:[Object(U.jsx)(w,{contacts:K.a.values(t)}),Object(U.jsx)(R,{user:s,activeUserId:a})]})}var W=function(){return console.log("%c Rendered with \ud83d\udc49 \ud83d\udc49 \ud83d\udc47","background: purple; color: #FFF"),console.log(E.getState()),c.a.render(Object(U.jsx)(n.StrictMode,{children:Object(U.jsx)(V,{})}),document.getElementById("root"))};E.subscribe(W),W()},34:function(e,t,s){},35:function(e,t,s){}},[[1550,1,2]]]);
//# sourceMappingURL=main.d22280a1.chunk.js.map